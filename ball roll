-- [[ Mobile GUI by Melon ]] --
-- [[ Edited by Melon ]] -- 
-- [[ Created by ??? ]] --
-- [[ Edited Mobile Support Gui By sh4k4r6o ]] --
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

local DEFAULT_SPEED_MULTIPLIER = 30
local SLOW_SPEED_MULTIPLIER = 10 -- Adjust this to your desired slower speed
local JUMP_POWER = 60
local JUMP_GAP = 0.3

local isBallRolling = false -- State of ball rolling effect

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Set up a ball part
local ball = Instance.new("Part")
ball.Name = "Ball"
ball.Parent = character
ball.Shape = Enum.PartType.Ball
ball.Material = Enum.Material.SmoothPlastic
ball.Size = Vector3.new(5,5,5)
ball.Transparency = 0.75
ball.CanCollide = false
ball.Anchored = false
ball.CFrame = character.HumanoidRootPart.CFrame

local humanoid = character:WaitForChild("Humanoid")
local params = RaycastParams.new()
params.FilterType = Enum.RaycastFilterType.Blacklist
params.FilterDescendantsInstances = {character}

local function updateSpeed()
    if isBallRolling then
        return DEFAULT_SPEED_MULTIPLIER
    else
        return SLOW_SPEED_MULTIPLIER
    end
end

RunService.RenderStepped:Connect(function(dt)
    if not isBallRolling then return end
    ball.CanCollide = true
    humanoid.PlatformStand = true
    if UserInputService:GetFocusedTextBox() then return end

    local moveDirection = Vector3.new()

    if UserInputService:IsKeyDown(Enum.KeyCode.W) then
        moveDirection = moveDirection - Camera.CFrame.LookVector
    end
    if UserInputService:IsKeyDown(Enum.KeyCode.S) then
        moveDirection = moveDirection + Camera.CFrame.LookVector
    end
    if UserInputService:IsKeyDown(Enum.KeyCode.A) then
        moveDirection = moveDirection - Camera.CFrame.RightVector
    end
    if UserInputService:IsKeyDown(Enum.KeyCode.D) then
        moveDirection = moveDirection + Camera.CFrame.RightVector
    end

    if moveDirection.Magnitude > 0 then
        ball.Velocity = moveDirection.Unit * updateSpeed()
    end
end)

UserInputService.JumpRequest:Connect(function()
    local result = workspace:Raycast(
        ball.Position,
        Vector3.new(0, -((ball.Size.Y/2)+JUMP_GAP), 0),
        params
    )
    if result then
        ball.Velocity = ball.Velocity + Vector3.new(0, JUMP_POWER, 0)
    end
end)

Camera.CameraSubject = ball
humanoid.Died:Connect(function() RunService.RenderStepped:Disconnect() end)

local BallGUI = Instance.new("ScreenGui")
local MainFrame = Instance.new("ImageLabel")
local MainGrad = Instance.new("UIGradient")
local WButton = Instance.new("TextButton")
local WGRad = Instance.new("UIGradient")
local SButton = Instance.new("TextButton")
local SGrad = Instance.new("UIGradient")
local DButton = Instance.new("TextButton")
local DGrad = Instance.new("UIGradient")
local AButton = Instance.new("TextButton")
local AGrad = Instance.new("UIGradient")
local XButton = Instance.new("ImageButton")
local XGRad = Instance.new("UIGradient")
local ToggleButton = Instance.new("TextButton")

-- Properties:

BallGUI.Name = "BallGUI"
BallGUI.Parent = player:WaitForChild("PlayerGui")

MainFrame.Name = "MainFrame"
MainFrame.Parent = BallGUI
MainFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
MainFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BorderSizePixel = 2
MainFrame.Position = UDim2.new(0.0837606788, 0, 0.317955106, 0)
MainFrame.Size = UDim2.new(0, 254, 0, 193)
MainFrame.Image = "http://www.roblox.com/asset/?id=9199483035"
MainFrame.Active = true
MainFrame.Draggable = true

MainGrad.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(57, 65, 138)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(255, 103, 248))}
MainGrad.Name = "MainGrad"
MainGrad.Parent = MainFrame

WButton.Name = "WButton"
WButton.Parent = MainFrame
WButton.BackgroundColor3 = Color3.fromRGB(103, 50, 149)
WButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
WButton.BorderSizePixel = 2
WButton.Position = UDim2.new(0.335968375, 0, 0.0990566015, 0)
WButton.Size = UDim2.new(0, 83, 0, 50)
WButton.Font = Enum.Font.SourceSans
WButton.Text = "W"
WButton.TextColor3 = Color3.fromRGB(0, 0, 0)
WButton.TextScaled = true
WButton.TextSize = 14.000
WButton.TextWrapped = true

WGRad.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(57, 65, 138)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(255, 103, 248))}
WGRad.Name = "WGRad"
WGRad.Parent = WButton

SButton.Name = "SButton"
SButton.Parent = MainFrame
SButton.BackgroundColor3 = Color3.fromRGB(103, 50, 149)
SButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
SButton.BorderSizePixel = 2
SButton.Position = UDim2.new(0.335968375, 0, 0.660377383, 0)
SButton.Size = UDim2.new(0, 83, 0, 50)
SButton.Font = Enum.Font.SourceSans
SButton.Text = "S"
SButton.TextColor3 = Color3.fromRGB(0, 0, 0)
SButton.TextScaled = true
SButton.TextSize = 14.000
SButton.TextWrapped = true

SGrad.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(57, 65, 138)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(255, 103, 248))}
SGrad.Name = "SGrad"
SGrad.Parent = SButton

DButton.Name = "DButton"
DButton.Parent = MainFrame
DButton.BackgroundColor3 = Color3.fromRGB(103, 50, 149)
DButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
DButton.BorderSizePixel = 2
DButton.Position = UDim2.new(0.695652187, 0, 0.382075459, 0)
DButton.Size = UDim2.new(0, 70, 0, 50)
DButton.Font = Enum.Font.SourceSans
DButton.Text = "D"
DButton.TextColor3 = Color3.fromRGB(0, 0, 0)
DButton.TextScaled = true
DButton.TextSize = 14.000
DButton.TextWrapped = true

DGrad.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(57, 65, 138)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(255, 103, 248))}
DGrad.Name = "DGrad"
DGrad.Parent = DButton

AButton.Name = "AButton"
AButton.Parent = MainFrame
AButton.BackgroundColor3 = Color3.fromRGB(103, 50, 149)
AButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
AButton.BorderSizePixel = 2
AButton.Position = UDim2.new(0.0276679844, 0, 0.382075459, 0)
AButton.Size = UDim2.new(0, 69, 0, 50)
AButton.Font = Enum.Font.SourceSans
AButton.Text = "A"
AButton.TextColor3 = Color3.fromRGB(0, 0, 0)
AButton.TextScaled = true
AButton.TextSize = 14.000
AButton.TextWrapped = true

AGrad.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(57, 65, 138)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(255, 103, 248))}
AGrad.Name = “AGrad”
AGrad.Parent = AButton

XButton.Name = “XButton”
XButton.Parent = MainFrame
XButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
XButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
XButton.BorderSizePixel = 2
XButton.Position = UDim2.new(0.929872214, 0, -0.00306222963, 0)
XButton.Size = UDim2.new(0, 40, 0, 36)
XButton.Image = “http://www.roblox.com/asset/?id=6015830647”
XButton.ImageColor3 = Color3.fromRGB(255, 0, 0)

XGRad.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(57, 65, 138)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(255, 103, 248))}
XGRad.Name = “XGRad”
XGRad.Parent = XButton

ToggleButton.Name = “ToggleButton”
ToggleButton.Parent = MainFrame
ToggleButton.BackgroundColor3 = Color3.fromRGB(103, 50, 149)
ToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
ToggleButton.BorderSizePixel = 2
ToggleButton.Position = UDim2.new(0.261162072, 0, 0.796099365, 0)
ToggleButton.Size = UDim2.new(0, 121, 0, 50)
ToggleButton.Font = Enum.Font.SourceSans
ToggleButton.Text = “Ball Roll Off”
ToggleButton.TextColor3 = Color3.fromRGB(0, 0, 0)
ToggleButton.TextScaled = true
ToggleButton.TextSize = 14.000
ToggleButton.TextWrapped = true

local function toggleBallRoll()
isBallRolling = not isBallRolling
if isBallRolling then
ToggleButton.Text = “Ball Roll On”
ball.CanCollide = true
ball.Velocity = Vector3.zero
else
ToggleButton.Text = “Ball Roll Off”
ball.CanCollide = false
ball.Velocity = Vector3.zero
end
end

ToggleButton.MouseButton1Click:Connect(toggleBallRoll)

local function closeGUI()
BallGUI:Destroy()
end

XButton.MouseButton1Click:Connect(closeGUI)
