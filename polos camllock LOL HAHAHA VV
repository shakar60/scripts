-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

-- Variables
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Settings
local settings = {
    guiDuration = 3,  -- Total duration for the entire GUI before it gets destroyed
    mainText = "Polos Skidded Camlock",  -- Custom main text
    loadingText = "Polos Camlock LOADING",  -- Custom loading text
    loadedText = "LOADED POLOS CAMLOCK",  -- Custom loaded text
    creditsText = "Credits To sh4k4r6o For Making The Loading Gui.",  -- Custom credits text
    countdownTextEnabled = true,  -- Toggle countdown number
    countdownTextDuration = 3,  -- Duration for the countdown text in seconds
    mainTextDuration = 2,  -- Duration for the main text display
    loadingTextDuration = 1,  -- Duration for the loading text display
    loadedTextDuration = 1,  -- Duration for the loaded text display
    creditsTextDuration = 1,  -- Duration for the credits text display
    fontSettings = {
        mainTextFont = Enum.Font.Arcade,  -- Font for main text
        loadingTextFont = Enum.Font.Arcade,  -- Font for loading text
        loadedTextFont = Enum.Font.Arcade,  -- Font for loaded text
        creditsFont = Enum.Font.Arcade,  -- Font for credits text
        countdownFont = Enum.Font.Arcade  -- Font for countdown text
    }
}

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BlurGui"
screenGui.Parent = PlayerGui

-- Create BlurEffect
local blurEffect = Instance.new("BlurEffect")
blurEffect.Name = "BlurEffect"
blurEffect.Size = 0
blurEffect.Parent = game:GetService("Lighting")

-- Create Main TextLabel
local textLabel = Instance.new("TextLabel")
textLabel.Name = "TextLabel"
textLabel.Parent = screenGui
textLabel.BackgroundTransparency = 1
textLabel.Position = UDim2.new(0.5, -200, 0.5, -50)
textLabel.Size = UDim2.new(0, 400, 0, 100)
textLabel.Font = settings.fontSettings.mainTextFont
textLabel.Text = settings.mainText
textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
textLabel.TextScaled = true
textLabel.TextStrokeTransparency = 0.8
textLabel.TextSize = 40

-- Create Credits TextLabel
local creditsLabel = Instance.new("TextLabel")
creditsLabel.Name = "CreditsLabel"
creditsLabel.Parent = screenGui
creditsLabel.BackgroundTransparency = 1
creditsLabel.Position = UDim2.new(0.5, -200, 0.5, 60) -- Positioned below the main text
creditsLabel.Size = UDim2.new(0, 400, 0, 50)
creditsLabel.Font = settings.fontSettings.creditsFont
creditsLabel.Text = settings.creditsText
creditsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
creditsLabel.TextScaled = true
creditsLabel.TextStrokeTransparency = 0.8
creditsLabel.TextSize = 8 -- Adjusted text size to 8

-- Create Countdown TextLabel
local countdownLabel = Instance.new("TextLabel")
countdownLabel.Name = "CountdownLabel"
countdownLabel.Parent = screenGui
countdownLabel.BackgroundTransparency = 1
countdownLabel.Position = UDim2.new(0.5, -200, 0.5, -100) -- Positioned above the main text
countdownLabel.Size = UDim2.new(0, 400, 0, 50)
countdownLabel.Font = settings.fontSettings.countdownFont
countdownLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
countdownLabel.TextScaled = true
countdownLabel.TextStrokeTransparency = 0.8
countdownLabel.TextSize = 20 -- Adjusted text size to 20
countdownLabel.Text = ""  -- Initially empty
countdownLabel.Visible = false  -- Initially hidden

-- Add a UIStroke for rainbow effect
local function ApplyRainbowEffect(label)
    local UIStroke = Instance.new("UIStroke")
    UIStroke.Parent = label
    UIStroke.Thickness = 2
    UIStroke.Transparency = 0.5

    -- Function to create a rainbow effect for the UIStroke and text color
    local function RainbowEffect()
        local hue = 0
        while label and label.Parent do
            hue = (hue + 1) % 360
            local color = Color3.fromHSV(hue / 360, 1, 1)
            UIStroke.Color = color
            label.TextColor3 = color
            wait(0.01)
        end
    end

    -- Start the rainbow effect
    spawn(RainbowEffect)
end

-- Apply rainbow effect to main text, credits text, and countdown text
ApplyRainbowEffect(textLabel)
ApplyRainbowEffect(creditsLabel)
ApplyRainbowEffect(countdownLabel)

-- Tweening for blur effect
local tweenInfo = TweenInfo.new(1, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut)
local goal = {Size = 20}
local tween = TweenService:Create(blurEffect, tweenInfo, goal)

-- Show blur and text
tween:Play()

-- Function to update the countdown label
local function UpdateCountdownLabel()
    if not settings.countdownTextEnabled then return end

    local timeLeft = settings.countdownTextDuration
    countdownLabel.Visible = true  -- Show countdown label when starting countdown
    while timeLeft > 0 do
        countdownLabel.Text = "Please wait " .. timeLeft .. " seconds"
        wait(1)
        timeLeft = timeLeft - 1
    end
    countdownLabel.Text = "Please wait 0 seconds"  -- Display final message
end

-- Function to display each text with its duration
local function DisplayTextWithDuration(textLabel, newText, font, duration)
    textLabel.Text = newText
    textLabel.Font = font
    wait(duration)
end

-- Show main text
DisplayTextWithDuration(textLabel, settings.mainText, settings.fontSettings.mainTextFont, settings.mainTextDuration)

-- Show loading text and countdown
textLabel.Text = settings.loadingText
textLabel.Font = settings.fontSettings.loadingTextFont
UpdateCountdownLabel()
wait(settings.loadingTextDuration)

-- Hide countdown label after loading
countdownLabel.Visible = false

-- Show loaded text
textLabel.Text = settings.loadedText
textLabel.Font = settings.fontSettings.loadedTextFont
wait(settings.loadedTextDuration)

-- Show credits text
creditsLabel.Text = settings.creditsText
creditsLabel.Font = settings.fontSettings.creditsFont
wait(settings.creditsTextDuration)

-- Clean up
screenGui:Destroy()
blurEffect:Destroy()

-- polos camlock

wait(1)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")

local NotificationLoad = loadstring(game:HttpGet('https://raw.githubusercontent.com/treeofplant/Notif/main/library.lua', true))()

-- Settings

local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local CamlockState = true
local Prediction = 0.1707779
local XPrediction = 0.176073
local YPrediction = 0.167092
local Smoothness = 0.03
local Locked = true
getgenv().Key = Enum.KeyCode.Q

function FindNearestEnemy()
local ClosestDistance, ClosestPlayer = math.huge, nil
local CenterPosition = Vector2.new(
game:GetService("GuiService"):GetScreenResolution().X / 2,
game:GetService("GuiService"):GetScreenResolution().Y / 2
)

for _, Player in ipairs(game:GetService("Players"):GetPlayers()) do
if Player ~= LocalPlayer then
    local Character = Player.Character
    if Character and Character:FindFirstChild("HumanoidRootPart") and Character.Humanoid.Health > 0 then
        local Position, IsVisibleOnViewport = 
            workspace.CurrentCamera:WorldToViewportPoint(Character.HumanoidRootPart.Position)

        if IsVisibleOnViewport then
            local Distance = (CenterPosition - Vector2.new(Position.X, Position.Y)).Magnitude
            if Distance < ClosestDistance then
                ClosestPlayer = Character.HumanoidRootPart
                ClosestDistance = Distance
            end
        end
    end
end
end

return ClosestPlayer
end

local enemy = nil

RunService.Heartbeat:Connect(function()
if CamlockState and enemy then
local camera = workspace.CurrentCamera
local targetPosition = enemy.Position + enemy.Velocity * Prediction
targetPosition = Vector3.new(targetPosition.X + XPrediction, targetPosition.Y + YPrediction, targetPosition.Z)

local currentPosition = camera.CFrame.Position
local newPosition = currentPosition:Lerp(targetPosition, Smoothness)

camera.CFrame = CFrame.new(newPosition, targetPosition)
end
end)

-- Camlock Status (On And Off Notification)

UserInputService.InputBegan:Connect(function(input)
if input.KeyCode == getgenv().Key then
Locked = not Locked
if Locked then
    enemy = FindNearestEnemy()
    CamlockState = true
    NotificationLoad:NewNotification({
        ["Mode"] = "Custom",
        ["Title"] = "Polos Camlock",
        ["Description"] = "Locking On " .. (enemy.Parent and enemy.Parent.Name or "Unknown Player"),
        ["Notification_Image"] = "rbxassetid://18985517155",
        ["Notification_Sound"] = "",
        ["Timeout"] = 2,
        ["Audio"] = false
    })
else
    if enemy then
        enemy = nil
        CamlockState = false
        NotificationLoad:NewNotification({
            ["Mode"] = "Custom",
            ["Title"] = "Polos Camlock",
            ["Description"] = "Unlocked",
            ["Notification_Image"] = "rbxassetid://18985517155",
            ["Notification_Sound"] = "",
            ["Timeout"] = 2,
            ["Audio"] = false
        })
    end
end
end
end)

local BladLock = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local TextButton = Instance.new("TextButton")
local UICorner_2 = Instance.new("UICorner")

-- Toggle Button Gui

BladLock.Name = "BlackGuy"
BladLock.Parent = game.CoreGui
BladLock.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Frame.Parent = BladLock
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0.5, -105, 0.3, 0)
Frame.Size = UDim2.new(0, 210, 0, 210)
Frame.Active = true
Frame.Draggable = true

UICorner.Parent = Frame

-- Camlock Text

TextButton.Parent = Frame
TextButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
TextButton.BackgroundTransparency = 1
TextButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextButton.BorderSizePixel = 0
TextButton.Position = UDim2.new(0.5, -85, 0.020, 0)
TextButton.Size = UDim2.new(0, 170, 0, 50)
TextButton.Font = Enum.Font.SourceSansSemibold
TextButton.Text = "Polos Camlock"
TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TextButton.TextScaled = true
TextButton.TextSize = 24
TextButton.TextWrapped = true

-- Camlock Status (On And Off Notification)

local state = true
TextButton.MouseButton1Click:Connect(function()
state = not state
if not state then
TextButton.Text = "Polos Camlock On"
CamlockState = true
enemy = FindNearestEnemy()
NotificationLoad:NewNotification({
    ["Mode"] = "Custom",
    ["Title"] = "Polos Camlock",
    ["Description"] = "Locking On " .. (enemy.Parent and enemy.Parent.Name or "Unknown Player"),
    ["Notification_Image"] = "rbxassetid://18985517155",
    ["Notification_Sound"] = "",
    ["Timeout"] = 2,
    ["Audio"] = false
})
else
TextButton.Text = "Polos Camlock Off"
CamlockState = false
enemy = nil
NotificationLoad:NewNotification({
    ["Mode"] = "Custom",
    ["Title"] = "Polos Camlock",
    ["Description"] = "Unlocked",
    ["Notification_Image"] = "rbxassetid://18985517155",
    ["Notification_Sound"] = "",
    ["Timeout"] = 2,
    ["Audio"] = false
})
end
end)

UICorner_2.Parent = TextButton

-- Setting Up The TextBox

local function createTextBox(parent, name, displayName, positionOffset, size, placeholder, text, changeCallback, outlineColor)
local textBox = Instance.new("TextBox")
textBox.Parent = parent
textBox.Name = name
textBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
textBox.Position = positionOffset -- Position is fixed relative to Frame
textBox.Size = size
textBox.PlaceholderText = displayName
textBox.Text = placeholder
textBox.ClearTextOnFocus = true
textBox.BorderSizePixel = 2
textBox.BorderColor3 = outlineColor or Color3.fromRGB(0, 0, 0)
textBox.TextScaled = true
textBox.Font = Enum.Font.SourceSans
textBox.TextColor3 = Color3.fromRGB(0, 0, 0)
textBox.TextStrokeTransparency = 0.8
textBox.TextSize = 14

local function updateText()
textBox.Text = tostring(text)
end
updateText()

textBox.Focused:Connect(function()
if textBox.Text == displayName then
    textBox.Text = ""
end
end)

textBox.FocusLost:Connect(function()
if textBox.Text == "" then
    textBox.Text = displayName
else
    local value = tonumber(textBox.Text)
    if value then
        changeCallback(value)
    end
end
end)

return textBox
end

local function getDefaultText(value)
return value or "0"
end

local baseY = 60
local spacing = 35

-- TextBoxes

PredictionTextBox = createTextBox(
Frame,
"PredictionTextBox",
"Enter Prediction",
UDim2.new(0, 15, 0, baseY),
UDim2.new(0, 180, 0, 30),
"Prediction: " .. tostring(Prediction),
getDefaultText(Prediction),
function(value) Prediction = value end,
Color3.fromRGB(0, 0, 0)
)

XPredictionTextBox = createTextBox(
Frame,
"XPredictionTextBox",
"Enter X Prediction",
UDim2.new(0, 15, 0, baseY + spacing),
UDim2.new(0, 180, 0, 30),
"X Prediction: " .. tostring(XPrediction),
getDefaultText(XPrediction),
function(value) XPrediction = value end,
Color3.fromRGB(0, 0, 0)
)

YPredictionTextBox = createTextBox(
Frame,
"YPredictionTextBox",
"Enter Y Prediction",
UDim2.new(0, 15, 0, baseY + spacing * 2),
UDim2.new(0, 180, 0, 30),
"Y Prediction: " .. tostring(YPrediction),
getDefaultText(YPrediction),
function(value) YPrediction = value end,
Color3.fromRGB(0, 0, 0)
)

SmoothnessTextBox = createTextBox(
Frame,
"SmoothnessTextBox",
"Enter Smoothness",
UDim2.new(0, 15, 0, baseY + spacing * 3),
UDim2.new(0, 180, 0, 30),
"Smoothness: " .. tostring(Smoothness),
getDefaultText(Smoothness),
function(value) Smoothness = value end,
Color3.fromRGB(0, 0, 0)
)

-- Variables
local notificationSent = false

-- Variables
local notificationCooldown = false

-- Variables
local notificationSent = false

-- Commands

local function onCommand(command)
  if command == "/e hidepolo" then
      if BladLock then
          BladLock.Enabled = false
      end
  elseif command == "/e showpolo" then
      if BladLock then
          BladLock.Enabled = true
      end
  elseif command == "/e hidesets" then
      PredictionTextBox.Visible = false
      XPredictionTextBox.Visible = false
      YPredictionTextBox.Visible = false
      SmoothnessTextBox.Visible = false
      Frame.Size = UDim2.new(0, 152, 0, 72)

      TextButton.Size = UDim2.new(0, 150, 0, 70)
      TextButton.TextSize = 14
      TextButton.TextWrapped = true
      TextButton.Position = UDim2.new(0.5, -75, 0.5, -35)
  elseif command == "/e showsets" then
      PredictionTextBox.Visible = true
      XPredictionTextBox.Visible = true
      YPredictionTextBox.Visible = true
      SmoothnessTextBox.Visible = true
      Frame.Size = UDim2.new(0, 210, 0, 210)

      TextButton.Size = UDim2.new(0, 170, 0, 50)
      TextButton.TextSize = 24
      TextButton.Position = UDim2.new(0.5, -85, 0.020, 0)
  elseif command == "/e cmds" then
      if not notificationSent then
          NotificationLoad:NewNotification({
              ["Mode"] = "Custom",
              ["Title"] = "Command List 1:",
              ["Description"] = "Here's The Commands List 1: Type /e hidepolo To Hide Polo Gui /e showpolo To Show Polo Gui.",
              ["Notification_Image"] = "rbxassetid://18985517155",
              ["Notification_Sound"] = "rbxassetid://5153734608",
              ["Timeout"] = 10,
              ["Audio"] = true
          })

          NotificationLoad:NewNotification({
              ["Mode"] = "Custom",
              ["Title"] = "Command List 2:",
              ["Description"] = "Here's The Commands List 2: Type /e hidesets To Hide The Settings /e showsets To Show The Settings And /e cmds To See The Cmds.",
              ["Notification_Image"] = "rbxassetid://18985517155",
              ["Notification_Sound"] = "rbxassetid://5153734608",
              ["Timeout"] = 10,
              ["Audio"] = true
          })

          notificationSent = true
      end
  end
end

game:GetService("Players").LocalPlayer.Chatted:Connect(function(message)
  onCommand(message)
end)

-- Notifications

NotificationLoad:NewNotification({
["Mode"] = "Custom",
["Title"] = "Polos Camlock Loaded!",
["Description"] = "Welcome User! Polos Camlock Is An Camlock Script That Aims For You In Any Game.",
["Notification_Image"] = "rbxassetid://18985517155",
["Notification_Sound"] = "rbxassetid://5153734608",
["Timeout"] = 10,
["Audio"] = true
})

wait(2)
NotificationLoad:NewNotification({
["Mode"] = "Custom",
["Title"] = "Command List 1:",
["Description"] = "1: Type /e hidepolo To Hide Polo Gui /e showpolo To Show Polo Gui /e cmds To See The Cmds Again.",
["Notification_Image"] = "rbxassetid://18985517155",
["Notification_Sound"] = "rbxassetid://5153734608",
["Timeout"] = 60,
["Audio"] = true
})

wait(2)
NotificationLoad:NewNotification({
["Mode"] = "Custom",
["Title"] = "Command List 2:",
["Description"] = "2: Type /e hidesets To Hide The Settings /e showsets To Show The Settings.",
["Notification_Image"] = "rbxassetid://18985517155",
["Notification_Sound"] = "rbxassetid://5153734608",
["Timeout"] = 60,
["Audio"] = true
})

wait(2)
NotificationLoad:NewNotification({
["Mode"] = "Custom",
["Title"] = "Credits:",
["Description"] = "Credits To sh4k4r6o On Discord Modifying The Free Version To A Better One.",
["Notification_Image"] = "rbxassetid://18985517155",
["Notification_Sound"] = "rbxassetid://5153734608",
["Timeout"] = 60,
["Audio"] = true
})
